# Migration `20200710233152-2020-07-10_openbeta`

This migration has been generated by dnatuna at 7/10/2020, 11:31:52 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE `habit_bread`.`scheduler` (
`habit_id` int NOT NULL  ,`schedule_id` int NOT NULL  AUTO_INCREMENT,`user_id` int NOT NULL  ,
    PRIMARY KEY (`schedule_id`)
) DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci

CREATE UNIQUE INDEX `scheduler.habit_id` ON `habit_bread`.`scheduler`(`habit_id`)

DROP TABLE `habit_bread`.`ranking`;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200710224855-2020-07-10-open-beta..20200710233152-2020-07-10_openbeta
--- datamodel.dml
+++ datamodel.dml
@@ -1,21 +1,19 @@
 generator client {
   provider = "prisma-client-js"
-  binaryTargets = ["native", "debian-openssl-1.1.x"]
 }
 datasource mysql {
   provider = "mysql"
-  url = "***"
+  url      = env("DB_URL")
 }
-model Ranking {
-  userId        Int       @id @map("user_id")
-  userName      String    @map("user_name")
-  exp           Int
-  achievement   Int
+model Scheduler {
+  scheduleId     Int       @default(autoincrement()) @id @map("schedule_id")
+  userId         Int       @map("user_id")
+  habitId        Int       @map("habit_id") @unique
-  @@map("ranking")
+  @@map("scheduler")
 }
 model Habit {
   habitId         Int       @default(autoincrement()) @id @map("habit_id")
```


